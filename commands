docker build -t testing .
docker run --rm testing ls -alR

docker run --rm testing ls -alR
docker run --rm -p 8080:80 my-registry:55000/aspnetcore/generator:ci-5

cd integration
docker build -t my-registry:55000/aspnetcore/generator:integration-1 .

# allow containers to be stopped after tests are complete. 
docker-compose up --force-recreate --abort-on-container-exit --build

#View compose output after setting env variable
BUILD_NUMBER=2  docker-compose config

#Deploy app to environments - Use docker swarm to spin up a cluster of containers
docker swarm init
docker node ls
--docker swarm join --token SWMTKN-1-01x9hd2dy7yuiujp6b3t18mdteid8xnjj4vb3op7qo57lowllc-egtynlfx7z5ndounn4dyii4r6 192.168.65.3:2377
docker stack -h
cd infra/swarm
docker stack deploy -c services/viz.yml viz

#deploy app to docker swarm
cd deploy
docker stack deploy -c demo.yml demo

#scale docker swarm
docker service ls
docker service scale demo_generator=2

#deploy to prod
docker stack deploy -c prod-via-environment.yml prod
docker service logs prod_generator  #to check the logs to confirm mail server host was passed from environment
docker stack deploy -c prod.yml prod
